<clickhouse>
    <listen_host>0.0.0.0</listen_host>
    <logger>
        <level>trace</level>
        <log>/var/log/clickhouse-keeper/clickhouse-keeper.log</log>
	<errorlog>/var/log/clickhouse-keeper/clickhouse-keeper.log</errorlog>
    </logger>
    <keeper_server>
        <tcp_port>9181</tcp_port>
        <server_id>3</server_id>
        <log_storage_path>/var/lib/clickhouse/coordination/log</log_storage_path>
        <snapshot_storage_path>/var/lib/clickhouse/coordination/snapshots</snapshot_storage_path>

        <coordination_settings>
            <operation_timeout_ms>5000</operation_timeout_ms>
            <session_timeout_ms>120000</session_timeout_ms>
            <snapshot_distance>10000</snapshot_distance>
		    <!--<raft_logs_level>debug</raft_logs_level>-->
        </coordination_settings>

        <raft_configuration>
            <server>
                <id>1</id>
                <hostname>keeper-server1.localdomain</hostname>
                <port>9234</port>
                <can_become_leader>true</can_become_leader>
                <priority>3</priority>
            </server>
            <server>
                <id>2</id>
                <hostname>keeper-server2.localdomain</hostname>
                <port>9234</port>
                <can_become_leader>true</can_become_leader>
                <start_as_follower>true</start_as_follower>
                <priority>2</priority>
            </server>
            <server>
                <id>3</id>
		        <hostname>keeper-server3.localdomain</hostname>
                <port>9234</port>
                <can_become_leader>true</can_become_leader>
                <start_as_follower>true</start_as_follower>
                <priority>1</priority>
            </server>
        </raft_configuration>
    </keeper_server>
</clickhouse>
